(define define-html-tag (macros (tag)
	(list `define tag
		(list lambda `x
			(list
				`str-concat
				(str-concat "\n<" (symbol-name tag) ">")
				`(str-replace (str-concat "\n" (eval ( cons `str-concat x )) ) "\n" "\n\t")
				(str-concat "\n</" (symbol-name tag) ">")
			)
		)
	)
))

(define-html-tag html)
(define-html-tag head)
(define-html-tag title)
(define-html-tag meta)
(define-html-tag body)
(define-html-tag div)

(define module.html html)
(define module.head head)
(define module.title title)
(define module.meta meta)
(define module.body body)
(define module.div div)

(define module.print-example (lambda ()
	(print
		(html
			(head
				(title "СверхВысшая магия")
				(meta "just meta 1")
				(meta "just meta 2")
			)
			(body
				(div "HEADER")
				(div "BODY-1")
				(div "BODY-2"
					(div "SUB-BODY-1")
					(div "SUB-BODY-2")
					(div "SUB-BODY-3")
				)
				(div "footer")
			)
		)
	)
))
